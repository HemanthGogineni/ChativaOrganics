<div class="modal-backdrop" *ngIf="showModal">
    <div class="modal-content">
        <h3>Payment Instructions</h3>
        <p>Please upload transaction screenshot here below and submit. Only then your payment gets completed</p>
        <button class="close-btn" (click)="closeModal()">Continue</button>
    </div>
</div>

<div class="container-xxl py-6">
    <div class="upi-container">
        <!-- QR Code Section -->
        <div class="qr-section">
            <ng-container *ngIf="qrImageBase64; else loading">
                <img [src]="qrImageBase64" alt="QR Code" />
            </ng-container>
        </div>

        <!-- Divider -->
        <div class="or-divider">
            <span>OR</span>
        </div>

        <!-- UPI Link Section -->
        <div class="link-section">
            <ng-container *ngIf="upiLink; else loading">
                <a [href]="upiLink" target="_blank">
                    <button class="upi-button">Pay Now via UPI App</button>
                </a>
            </ng-container>
        </div>
    </div>

    <!-- Loading Template -->
    <ng-template #loading>
        <p>Waiting for payment details...</p>
    </ng-template>

    <!-- Upload Section -->
    <div class="upload-section">
        <label for="screenshotUpload">Upload Payment Screenshot:</label>
        <input type="file" id="screenshotUpload" (change)="onFileSelected($event)" />

        <button (click)="finalOrder()" [disabled]="isSubmitting">
            {{ isSubmitting ? 'Submitting...' : 'Submit' }}
        </button>
    </div>
</div>